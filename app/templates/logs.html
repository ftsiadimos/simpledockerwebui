{% extends 'base.html' %}

{% block content %}

<!-- Move the Bottom button to the top of the page -->
<div style="margin-bottom: 10px; text-align: center;">
   <button id="scrollTopBtn">Top</button>
    <button id="scrollBottomBtn">Bottom</button>
    <button id="goBackTopBtn">Back</button>
</div>

<!-- Terminalâ€‘style log output with a vertical scroll bar -->
<div id="logContainer" style="
    border: 45px solid;
    padding: 10px;
    width: 100%;
    max-height: 80vh;          /* use most of the viewport height */
    overflow-y: auto;           /* vertical scrollbar */
    overflow-x: auto;           /* horizontal scrollbar if needed */
    background-color: #000;     /* black background */
    color: #00ff00;             /* green text */
    font-family: monospace;     /* terminal font */
    white-space: pre-wrap;      /* preserve line breaks */
">
   {{ logs | replace('\\n', '<br>') | trim("'") | safe }}
</div>

<script>
const logEl = document.getElementById('logContainer');

// Scroll the log container to the bottom when the page loads
window.addEventListener('load', () => {
    logEl.scrollTo({ top: logEl.scrollHeight, behavior: 'auto' });
});

// Scroll the log container to the top
document.getElementById('scrollTopBtn').addEventListener('click', () => {
    logEl.scrollTo({ top: 0, behavior: 'smooth' });
});

// Scroll the log container to the bottom
document.getElementById('scrollBottomBtn').addEventListener('click', () => {
    logEl.scrollTo({ top: logEl.scrollHeight, behavior: 'smooth' });
});

// Back buttons keep navigating the browser history
document.getElementById('goBackTopBtn').addEventListener('click', () => {
    window.history.back();
});

</script>

{% endblock %}
